//
//  User.swift
//  BookShelf//
//  Automatically generated by MobileCodeGenerator 3.
//  Copyright Â© 2017 . All rights reserved.
//

import FirebaseDatabase
import CloudKit

class User : NSObject{
	
	var access_email : String	
	var password : String	
	var user_name : String	
	var user_surname : String	
	weak var ref : DatabaseReference?
	var record: CKRecord!
	weak var database: CKDatabase!

	init(access_email : String,
password : String,
user_name : String,
user_surname : String) {
	  	self.access_email = access_email	  	
	  	self.password = password	  	
	  	self.user_name = user_name	  	
	  	self.user_surname = user_surname	  	
		self.ref = FirebaseHandler().getReference()
	}	   
	
	// Firebase initialization
	init(snapshot: DataSnapshot) {
	
		let snapshotValue = snapshot.value as! [String: AnyObject]
	  	self.access_email = snapshotValue["access_email"] as! String	 
	  	self.password = snapshotValue["password"] as! String	 
	  	self.user_name = snapshotValue["user_name"] as! String	 
	  	self.user_surname = snapshotValue["user_surname"] as! String	 
		self.ref = snapshot.ref
  	}
  	
  	// iCloud initialization
  	init(record: CKRecord, database: CKDatabase) {
  		
  		self.record = record
	    self.database = database
	
	  	self.access_email = record["access_email"] as! String	 
	  	self.password = record["password"] as! String	 
	  	self.user_name = record["user_name"] as! String	 
	  	self.user_surname = record["user_surname"] as! String	 
	  
	}
  
	func toAnyObject() -> Any {
		return [
		  	"access_email": access_email,
		  	"password": password,
		  	"user_name": user_name,
			"user_surname": user_surname			
		]
	}         
}
